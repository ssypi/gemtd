// Dota Heroes File
"DOTAAbilities"
{
	"Version"		"1"

    "attack_test"
    {
        "BaseClass" "ability_datadriven"

        "OnAbilityStart"
        {
            "RunScript"
            {
                "Target"    "CASTER"
                "ScriptFile"    "test.lua"
                "Function"    "OnAbilityStart"
            }
        }

        "Modifiers"
        {
            "modifier_events"
            {
                "Passive"   "1"
                "OnAttacked"
                {
                    "RunScript"
                    {
                        "Target"    "CASTER"
                        "ScriptFile"    "test.lua"
                        "Function"  "OnAttacked"
                    }
                }
            }
        }
    }

    "gem_damage_bonus"
    {
        "BaseClass" "ability_datadriven"
        "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_PASSIVE"

        "MaxLevel" "10"

        "Modifiers"
        {
            "modifier_damage_bonus"
            {
                "Passive" "1"
                "Properties"
                {
                    "MODIFIER_PROPERTY_DAMAGEOUTGOING_PERCENTAGE" "%percentage"
                }
            }
        }

        "AbilitySpecial"
        {
            "01"
            {
                "var_type" "FIELD_INTEGER"
                "percentage" "10 20 30 40 50 60 70 80 90 100"
            }
        }
    }

	"silver_upgrade"
	{
	    "BaseClass" "ability_datadriven"
	    "AbilityBehavior"   "DOTA_ABILITY_BEHAVIOR_IMMEDIATE | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
        "AbilityTextureName"    "upgrade_gem"

        "MaxLevel"  "2"

	    "AbilityManaCost" "0"
        "AbilityCooldown" "10"
        "AbilityGoldCost"   "25 300"

        "OnSpellStart"
        {
            "RunScript"
            {
                "Target"    "CASTER"
                "ScriptFile"    "gems/base.lua"
                "Function"  "Upgrade"
                "goldCost"  "%gold_cost"
            }
        }

		"AbilitySpecial"
		{
			"01"
			{
				"var_type"					"FIELD_INTEGER"
				"gold_cost"				    "25 300"
			}
		}
	}

		"malachite_upgrade"
    	{
    	    "BaseClass" "ability_datadriven"
    	    "AbilityBehavior"   "DOTA_ABILITY_BEHAVIOR_IMMEDIATE | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
            "AbilityTextureName"    "upgrade_gem"

            "MaxLevel"  "2"

    	    "AbilityManaCost" "0"
            "AbilityCooldown" "10"
            "AbilityGoldCost"   "25 300"

            "OnSpellStart"
            {
                "RunScript"
                {
                    "Target"    "CASTER"
                    "ScriptFile"    "gems/base.lua"
                    "Function"  "Upgrade"
                    "goldCost"  "%gold_cost"
                }
            }

    		"AbilitySpecial"
    		{
    			"01"
    			{
    				"var_type"					"FIELD_INTEGER"
    				"gold_cost"				    "25 300"
    			}
    		}
    	}

    		"star_ruby_upgrade"
        	{
        	    "BaseClass" "ability_datadriven"
        	    "AbilityBehavior"   "DOTA_ABILITY_BEHAVIOR_IMMEDIATE | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
                "AbilityTextureName"    "upgrade_gem"

                "MaxLevel"  "2"

        	    "AbilityManaCost" "0"
                "AbilityCooldown" "10"
                "AbilityGoldCost"   "25 300"

                "OnSpellStart"
                {
                    "RunScript"
                    {
                        "Target"    "CASTER"
                        "ScriptFile"    "gems/base.lua"
                        "Function"  "Upgrade"
                        "goldCost"  "%gold_cost"
                    }
                }

        		"AbilitySpecial"
        		{
        			"01"
        			{
        				"var_type"					"FIELD_INTEGER"
        				"gold_cost"				    "25 300"
        			}
        		}
        	}

    	"black_opal_upgrade"
    	{
    	    "BaseClass" "ability_datadriven"
    	    "AbilityBehavior"   "DOTA_ABILITY_BEHAVIOR_IMMEDIATE | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
            "AbilityTextureName"    "upgrade_gem"

            "MaxLevel"  "2"

    	    "AbilityManaCost" "0"
            "AbilityCooldown" "10"
            "AbilityGoldCost"   "25 300"

            "OnSpellStart"
            {
                "RunScript"
                {
                    "Target"    "CASTER"
                    "ScriptFile"    "gems/base.lua"
                    "Function"  "Upgrade"
                    "goldCost"  "%gold_cost"
                }
            }

    		"AbilitySpecial"
    		{
    			"01"
    			{
    				"var_type"					"FIELD_INTEGER"
    				"gold_cost"				    "25 300"
    			}
    		}
    	}

    	    	"blood_stone_upgrade"
            	{
            	    "BaseClass" "ability_datadriven"
            	    "AbilityBehavior"   "DOTA_ABILITY_BEHAVIOR_IMMEDIATE | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
                    "AbilityTextureName"    "upgrade_gem"

                    "MaxLevel"  "2"

            	    "AbilityManaCost" "0"
                    "AbilityCooldown" "10"
                    "AbilityGoldCost"   "25 300"

                    "OnSpellStart"
                    {
                        "RunScript"
                        {
                            "Target"    "CASTER"
                            "ScriptFile"    "gems/base.lua"
                            "Function"  "Upgrade"
                            "goldCost"  "%gold_cost"
                        }
                    }

            		"AbilitySpecial"
            		{
            			"01"
            			{
            				"var_type"					"FIELD_INTEGER"
            				"gold_cost"				    "25 300"
            			}
            		}
            	}

            	    	"dark_emerald_upgrade"
                    	{
                    	    "BaseClass" "ability_datadriven"
                    	    "AbilityBehavior"   "DOTA_ABILITY_BEHAVIOR_IMMEDIATE | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
                            "AbilityTextureName"    "upgrade_gem"

                            "MaxLevel"  "2"

                    	    "AbilityManaCost" "0"
                            "AbilityCooldown" "10"
                            "AbilityGoldCost"   "25 300"

                            "OnSpellStart"
                            {
                                "RunScript"
                                {
                                    "Target"    "CASTER"
                                    "ScriptFile"    "gems/base.lua"
                                    "Function"  "Upgrade"
                                    "goldCost"  "%gold_cost"
                                }
                            }

                    		"AbilitySpecial"
                    		{
                    			"01"
                    			{
                    				"var_type"					"FIELD_INTEGER"
                    				"gold_cost"				    "25 300"
                    			}
                    		}
                    	}

                    	    	"gold_upgrade"
                            	{
                            	    "BaseClass" "ability_datadriven"
                            	    "AbilityBehavior"   "DOTA_ABILITY_BEHAVIOR_IMMEDIATE | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
                                    "AbilityTextureName"    "upgrade_gem"

                                    "MaxLevel"  "2"

                            	    "AbilityManaCost" "0"
                                    "AbilityCooldown" "10"
                                    "AbilityGoldCost"   "25 300"

                                    "OnSpellStart"
                                    {
                                        "RunScript"
                                        {
                                            "Target"    "CASTER"
                                            "ScriptFile"    "gems/base.lua"
                                            "Function"  "Upgrade"
                                            "goldCost"  "%gold_cost"
                                        }
                                    }

                            		"AbilitySpecial"
                            		{
                            			"01"
                            			{
                            				"var_type"					"FIELD_INTEGER"
                            				"gold_cost"				    "25 300"
                            			}
                            		}
                            	}

        	"jade_upgrade"
        	{
        	    "BaseClass" "ability_datadriven"
        	    "AbilityBehavior"   "DOTA_ABILITY_BEHAVIOR_IMMEDIATE | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
                "AbilityTextureName"    "upgrade_gem"

                "MaxLevel"  "2"

        	    "AbilityManaCost" "0"
                "AbilityCooldown" "10"
                "AbilityGoldCost"   "25 300"

                "OnSpellStart"
                {
                    "RunScript"
                    {
                        "Target"    "CASTER"
                        "ScriptFile"    "gems/base.lua"
                        "Function"  "Upgrade"
                        "goldCost"  "%gold_cost"
                    }
                }

        		"AbilitySpecial"
        		{
        			"01"
        			{
        				"var_type"					"FIELD_INTEGER"
        				"gold_cost"				    "25 300"
        			}
        		}
        	}

        	    	"pink_diamond_upgrade"
                	{
                	    "BaseClass" "ability_datadriven"
                	    "AbilityBehavior"   "DOTA_ABILITY_BEHAVIOR_IMMEDIATE | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
                        "AbilityTextureName"    "upgrade_gem"

                        "MaxLevel"  "2"

                	    "AbilityManaCost" "0"
                        "AbilityCooldown" "10"
                        "AbilityGoldCost"   "25 300"

                        "OnSpellStart"
                        {
                            "RunScript"
                            {
                                "Target"    "CASTER"
                                "ScriptFile"    "gems/base.lua"
                                "Function"  "Upgrade"
                                "goldCost"  "%gold_cost"
                            }
                        }

                		"AbilitySpecial"
                		{
                			"01"
                			{
                				"var_type"					"FIELD_INTEGER"
                				"gold_cost"				    "25 300"
                			}
                		}
                	}

                	    	"red_crystal_upgrade"
                        	{
                        	    "BaseClass" "ability_datadriven"
                        	    "AbilityBehavior"   "DOTA_ABILITY_BEHAVIOR_IMMEDIATE | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
                                "AbilityTextureName"    "upgrade_gem"

                                "MaxLevel"  "2"

                        	    "AbilityManaCost" "0"
                                "AbilityCooldown" "10"
                                "AbilityGoldCost"   "25 300"

                                "OnSpellStart"
                                {
                                    "RunScript"
                                    {
                                        "Target"    "CASTER"
                                        "ScriptFile"    "gems/base.lua"
                                        "Function"  "Upgrade"
                                        "goldCost"  "%gold_cost"
                                    }
                                }

                        		"AbilitySpecial"
                        		{
                        			"01"
                        			{
                        				"var_type"					"FIELD_INTEGER"
                        				"gold_cost"				    "25 300"
                        			}
                        		}
                        	}

        	"uranium_238_upgrade"
        	{
        	    "BaseClass" "ability_datadriven"
        	    "AbilityBehavior"   "DOTA_ABILITY_BEHAVIOR_IMMEDIATE | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
                "AbilityTextureName"    "upgrade_gem"

                "MaxLevel"  "2"

        	    "AbilityManaCost" "0"
                "AbilityCooldown" "10"
                "AbilityGoldCost"   "25 300"

                "OnSpellStart"
                {
                    "RunScript"
                    {
                        "Target"    "CASTER"
                        "ScriptFile"    "gems/base.lua"
                        "Function"  "Upgrade"
                        "goldCost"  "%gold_cost"
                    }
                }

        		"AbilitySpecial"
        		{
        			"01"
        			{
        				"var_type"					"FIELD_INTEGER"
        				"gold_cost"				    "25 300"
        			}
        		}
        	}

    	"yellow_sapphire_upgrade"
    	{
    	    "BaseClass" "ability_datadriven"
    	    "AbilityBehavior"   "DOTA_ABILITY_BEHAVIOR_IMMEDIATE | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
            "AbilityTextureName"    "upgrade_gem"

            "MaxLevel"  "2"

    	    "AbilityManaCost" "0"
            "AbilityCooldown" "10"
            "AbilityGoldCost"   "25 300"

            "OnSpellStart"
            {
                "RunScript"
                {
                    "Target"    "CASTER"
                    "ScriptFile"    "gems/base.lua"
                    "Function"  "Upgrade"
                    "goldCost"  "%gold_cost"
                }
            }

    		"AbilitySpecial"
    		{
    			"01"
    			{
    				"var_type"					"FIELD_INTEGER"
    				"gold_cost"				    "25 300"
    			}
    		}
    	}

    	"paraiba_tourmaline_upgrade"
    	{
    	    "BaseClass" "ability_datadriven"
    	    "AbilityBehavior"   "DOTA_ABILITY_BEHAVIOR_IMMEDIATE | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
            "AbilityTextureName"    "upgrade_gem"

            "MaxLevel"  "2"

    	    "AbilityManaCost" "0"
            "AbilityCooldown" "10"
            "AbilityGoldCost"   "25 300"

            "OnSpellStart"
            {
                "RunScript"
                {
                    "Target"    "CASTER"
                    "ScriptFile"    "gems/base.lua"
                    "Function"  "Upgrade"
                    "goldCost"  "%gold_cost"
                }
            }

    		"AbilitySpecial"
    		{
    			"01"
    			{
    				"var_type"					"FIELD_INTEGER"
    				"gold_cost"				    "25 300"
    			}
    		}
    	}

	"base_buy_hp"
	{
	    "BaseClass" "ability_datadriven"
        "AbilityTextureName"    "buy_hp"

	    "AbilityBehavior"   "DOTA_ABILITY_BEHAVIOR_IMMEDIATE | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
	    "AbilityManaCost" "0"
        "AbilityCooldown" "3"
        "AbilityGoldCost"   "10"

        "MaxLevel"  "1"

        "OnSpellStart"
        {
            "RunScript"
            {
                "Target"        "CASTER"
                "ScriptFile"    "scripts/vscripts/abilities.lua"
                "Function"      "BuyHp"
            }
        }
	}

    "builder_toggle_grid_size"
    {
        "BaseClass" "ability_datadriven"
        "AbilityTextureName"    "toggle_grid"

        "AbilityBehavior"   "DOTA_ABILITY_BEHAVIOR_IMMEDIATE |  DOTA_ABILITY_BEHAVIOR_TOGGLE"
        "AbilityManaCost" "0"
        "AbilityCooldown" "0"

        "OnToggleOn"
        {
            "RunScript"
            {
                "Target"        "CASTER"
                "ScriptFile"    "scripts/vscripts/abilities.lua"
                "Function"      "ToggleGridOn"
            }
        }

        "OnToggleOff"
        {
            "RunScript"
            {
                "Target"        "CASTER"
                "ScriptFile"    "scripts/vscripts/abilities.lua"
                "Function"      "ToggleGridOff"
            }
        }
    }

    "builder_upgrade_quality"
    {
        "BaseClass" "ability_datadriven"
        "AbilityTextureName"    "upgrade_quality"

        "AbilityBehavior"   "DOTA_ABILITY_BEHAVIOR_IMMEDIATE | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
        "AbilityManaCost" "1 2 3 4 5"
        "AbilityCooldown" "1"

        "ItemBaseLevel" "1"
        "MaxLevel"  "8"

        "AbilityGoldCost"   "20 50 80 110 140 170 200 230"

        "OnSpellStart"
        {
            "RunScript"
            {
                "Target"        "CASTER"
                "ScriptFile"    "scripts/vscripts/abilities.lua"
                "Function"      "UpgradeQuality"
            }
        }
    }

    "builder_test"
    {
    	    "BaseClass" "ability_datadriven"
            "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_POINT_TARGET | DOTA_ABILITY_BEHAVIOR_AOE"

            "Radius"    "1000"

            "AbilityManaCost" "0"
            "AbilityCooldown" "0"

            OnAbilityPhaseStart
            {
                "RunScript"
            	{
            	    "Target"    "CASTER"
            	    "ScriptFile" "scripts/vscripts/abilities.lua"
            	    "Function" "OnAbilityPhaseStart"
            	}
            }

            "OnSpellStart"
            {
                "RunScript"
                {
                    "Target"    "POINT"
                    "ScriptFile"    "scripts/vscripts/items.lua"
                    "Function"  "BuildTest"
                }
            }
    }

	"dude_passive"
	{
	    "ID"    "8453"
	    "BaseClass" "ability_datadriven"
	    "AbilityBehavior"   "DOTA_ABILITY_BEHAVIOR_PASSIVE"

	    "AbilityTextureName"		"axe_battle_hunger"

        "Maxlevel" "1"

	    "OnUpgrade"
         {
            "ApplyModifier"
            {
                "Target"	"CASTER"
                "ModifierName"	"modifier_phased"
            }
         }

	    "Modifiers"
	    {
	        "modifier_dude_passive"
	        {

	        }
	    }
	}

	"fx_test_ability"
    {
     // General
     //-------------------------------------------------------------------------------------------------------------
     "BaseClass"			"ability_datadriven"
     "AbilityBehavior"		"DOTA_ABILITY_BEHAVIOR_PASSIVE"
     "AbilityTextureName"		"axe_battle_hunger"
     // Modifiers
     //-------------------------------------------------------------------------------------------------------------
     "Modifiers"
     {
      "fx_test_modifier"
      {
       "Passive" "1"
       "OnCreated"
       {
        "AttachEffect"
        {
         "Target" "CASTER"
         "EffectName" "particles\econ\generic\generic_buff_1\generic_buff_1.vpcf"
         "EffectAttachType" "follow_overhead"
         "EffectLifeDurationScale" "1"
         "EffectColorA" "255 255 0"
        }
       }
      }
     }
    }

    "tower_dot"
    {
        "BaseClass" "ability_datadriven"

        "modifiers"
        {
            "modifier_attack_passive"
            {
                "OnAttackLanded"
                {
                    "ApplyModifier"
                    {
                        "Target"
                        {
                            "Center"    "TARGET"
                            "Radius"    "%aoe"
                            "Types"     "DOTA_UNIT_TARGET_CREEP"
                        }
                    }
                }
            }
            "modifier_dot"
            {
                    "IsDebuff"  "1"
                    "Duration"  "%duration"
                    "Attributes"    "MODIFIER_ATTRIBUTE_MULTIPLE"
                    "ThinkInterval" "1"
                    "OnIntervalThink"
                    {
                        // runscript / damage
                    }
            }
        }
    }

    "tower_splash"
    {
        "BaseClass" "ability_datadriven"
    	"AbilityBehavior"   "DOTA_ABILITY_BEHAVIOR_PASSIVE"

        "MaxLevel"  "1"

        "OnUpgrade"
        {
            "ApplyModifier"
            {
                "Target"	"CASTER"
                "ModifierName"	"modifier_dragon_knight_splash_attack"
            }
        }
    }

	"gem_attack_splash"
	{
	    "BaseClass" "ability_datadriven"
	    "AbilityBehavior"   "DOTA_ABILITY_BEHAVIOR_PASSIVE"

	    "Modifiers"
	    {
	        "modifier_splash"
	        {
	            "Passive"   "1"

	            "OnAttackLanded"
	            {
	                "Damage"
                	{
                	    "Target"
                	    {
                	        "Center"    "TARGET"
                	        "Radius"    "500"
                	        "Teams" "DOTA_UNIT_TARGET_TEAM_ENEMY"
                	        "Types" "DOTA_UNIT_TARGET_ALL"
                	    }
                	    "Type"  "DAMAGE_TYPE_PURE"
                	    "Damage"    "150"
                	}

                	"AttachEffect"
                    {
                        "Target" "CASTER"
                        "EffectName" "particles\econ\generic\generic_buff_1\generic_buff_1.vpcf"
                        "EffectAttachType" "follow_overhead"
                        "EffectLifeDurationScale" "1"
                        "EffectColorA" "255 0 0"
                    }
	            }
	        }
	    }
	}

	"attack_splash"
	{
	        "ID"    "833"
	        "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_PASSIVE"
	        "BaseClass" "life_stealer_feast"
	        //"AbilityUnitTargetTeam"			"DOTA_UNIT_TARGET_TEAM_ENEMY"
		    //"AbilityUnitTargetType"			"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC | DOTA_UNIT_TARGET_CREEP | DOTA_UNIT_TARGET_MECHANICAL"

		    //		"AbilityCastRange"				"450"


	        //"AbilityUnitDamageType"			"DAMAGE_TYPE_MAGICAL"

	        //"Maxlevel" "1"
            //"ItemBaseLevel" "1"
	    "IsHidden"                              "0"
	    "Passive"                               "1"

	    "OnProjectileHit"
	    {
	                                                "ApplyModifier"
                                                    {
                                                            "ModifierName" "tower_freezing_splash_slow"
                                                            "Target"
                                                            {
                                                                    "Center" "TARGET"
                                                                    "Radius" "500"
                                                                    "Teams" "DOTA_UNIT_TARGET_TEAM_ENEMY"
                                                                    "Types" "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC | DOTA_UNIT_TARGET_CREEP | DOTA_UNIT_TARGET_MECHANICAL"
                                                            }
                                                    }

	        "Damage"
	        {
	            "Target"
	            {
	                "Center"    "TARGET"
	                "Radius"    "500"
	                "Teams" "DOTA_UNIT_TARGET_TEAM_BOTH"
	                "Types" "DOTA_UNIT_TARGET_ALL"
	            }
	            "Type"  "DAMAGE_TYPE_PURE"
	            "Damage"    "100"
	        }

	        "FireEffect"
            {
                "Target" "TARGET"
                "EffectName" "lich_frost_nova"
                "EffectAttachType" "follow_origin"
                "EffectRadius" "500"
            }
        }

        "Modifiers"
        {
        	"tower_freezing_splash_slow"
        	{
        		"Passive" "1"

        		"Properties"
        		{
        		    "MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE" "-50"
        		    "MODIFIER_PROPERTY_MODEL_SCALE" "0.5"
        		}
        	}
        }
	}

	// ========================================================================
    // Tower Abilities
	// ========================================================================

	"dark_emerald_stun"
	{
	    "BaseClass" "ability_datadriven"
	    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_PASSIVE"

	    "Modifiers"
	    {
	        "modifier_dark_emerald_stun"
	        {
	            "Passive"   "1"
	            "IsHidden"  "1"
	            "OnAttackLanded"
	            {
                    "Random"
                    {
                        "Chance" "%stun_chance"
                        "OnSuccess"
                        {
                            "ApplyModifier"
                            {
                                "ModifierName"  "modifier_dark_emerald_stun_effect"
                                "Target"        "TARGET"
                                "Duration"      "%stun_duration"
                            }
                        }
                    }
	            }
	        }
	        "modifier_dark_emerald_stun_effect"
	        {
	            "States"
	            {
                    "MODIFIER_STATE_STUNNED"    "MODIFIER_STATE_VALUE_ENABLED"
	            }
	        }
	    }
	    "AbilitySpecial"
	    {
	        "01"
	        {
	            "var_type"      "FIELD_INTEGER"
	            "stun_chance"   "75 75"
	        }
	        "02"
	        {
	            "var_type"      "FIELD_FLOAT"
	            "stun_duration" "2.0 3.0"
	        }
	    }
	}

    "jade_lucky"
    {
	    "BaseClass" "ability_datadriven"
        "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_PASSIVE"

        "Modifiers"
        {
            "modifier_jade_lucky"
            {
                "Passive"   "1"
                "IsHidden"  "1"
                "OnAttackStart"
                {
                    "Random"
                    {
                        "Chance" "%gold_chance"
                        //"PseudoRandom" "DOTA_PSEUDO_RANDOM_PHANTOMASSASSIN_CRIT"
                        "OnSuccess"
                        {
                            "ApplyModifier"
                            {
                                "ModifierName" "modifier_jade_gold_effect"
                                "Target" "CASTER"
                            }
                            "RunScript"
                            {
                                "Target"    "TARGET"
                                "ScriptFile"    "gems/special/jade.lua"
                                "Function"  "GiveGold"
                            }
                        }
                    }
                }
            }

            "modifier_jade_gold_effect"
            {
                "OnAttackLanded"
                {
                    "FireSound"
                    {
                        //"EffectName"    "sounds/ui/coins_big.vsnd"
                        "EffectName"    "General.CoinsBig"
                        "Target"    "CASTER"
                    }

                    "AttachEffect"
                    {
                        //"EffectName" "particles/units/heroes/hero_alchemist/alchemist_lasthit_coins.vpcf"
                        "EffectName" "particles/generic_gameplay/lasthit_coins.vpcf"
                        "EffectAttachType" "follow_overhead"
                        "Target" "TARGET"

                        "ControlPointEntities"
                        {
                            "TARGET" "attach_hitloc"
                        }

                    }
                    "RemoveModifier"
                    {
                        "ModifierName" "modifier_jade_gold_effect"
                        "Target" "CASTER"
                    }
                }
            }
        }
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"					"FIELD_INTEGER"
				"gold_chance"				    "25 25 25"
			}
		}
    }


	"aura_burn"
	{
	    "BaseClass"     "brewmaster_fire_permanent_immolation"
		//"AbilityType"					"DOTA_ABILITY_TYPE_BASIC"
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_PASSIVE"
		"MaxLevel"						"3"
		"AbilityUnitDamageType"			"DAMAGE_TYPE_MAGICAL"

    		"AbilitySpecial"
            {
            		"01"
            		{
            			"var_type"				"FIELD_INTEGER"
            			"radius"			"265 600 700"
            		}
            		"02"
            		{
            			"var_type"				"FIELD_FLOAT"
            			"damage"			"40 65 100"
            		}
            }
	}



    "star_aura"
    {
	    "BaseClass" "ability_datadriven"
        "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_AOE | DOTA_ABILITY_BEHAVIOR_PASSIVE"

        "MaxLevel"  "3"

        "Modifiers"
        {
            "modifier_star_aura"
            {
                "IsHidden"  "0"
                "Passive"   "1"

                "Aura"  "modifier_star_aura_burn"
                "Aura_Radius"   "%aura_radius"
                "Aura_Teams"    "DOTA_UNIT_TARGET_TEAM_ENEMY"
                "Aura_Types"    "DOTA_UNIT_TARGET_BASIC"
                "Aura_ApplyToCaster"    "0"
            }

            "modifier_star_aura_burn"
            {
                //"Passive"   "1"
                "IsHidden"    "0"
                //"IsDebuff"  "1"
                //"Duration"  "1"
                "ThinkInterval" "1"

                "OnIntervalThink"
                {
                    "Damage"
                    {
                        "Target"    "TARGET"
                        "Type"      "DAMAGE_TYPE_PURE"
                        "Damage"    "%burn_damage"
                    }
                }
            }
        }
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"					"FIELD_INTEGER"
				"burn_damage"				    "1 1 1"
			}
			"02"
			{
				"var_type"					"FIELD_INTEGER"
				"aura_radius"				"500 600 700"
			}
		}

    }

    "diamond_crit"
    {
	    "BaseClass" "ability_datadriven"
        "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_PASSIVE"

        "Modifiers"
        {
            "modifier_diamond_crit_passive"
            {
                "Passive"   "1"
                "IsHidden"  "1"
                "OnAttackStart"
                {
                    "Random"
                    {
                        "Chance" "%crit_chance"
                        //"PseudoRandom" "DOTA_PSEUDO_RANDOM_PHANTOMASSASSIN_CRIT"
                        "OnSuccess"
                        {
                            "ApplyModifier"
                            {
                                "ModifierName" "modifier_diamond_critical"
                                "Target" "CASTER"
                            }
                        }
                    }
                }
            }

            "modifier_diamond_critical"
            {
 	            "Properties"
                {
                    "MODIFIER_PROPERTY_PREATTACK_CRITICALSTRIKE" "%crit_bonus"
                }

                "OnAttackLanded"
                {
                    "FireEffect"
                    {
                        "EffectName" "particles/units/heroes/hero_phantom_assassin/phantom_assassin_crit_impact.vpcf"
                        "EffectAttachType" "follow_origin"
                        "Target" "TARGET"
                    }
                    "RemoveModifier"
                    {
                        "ModifierName" "modifier_diamond_critical"
                        "Target" "CASTER"
                    }
                }
            }
        }
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"					"FIELD_INTEGER"
				"crit_chance"				    "25 25 25 25 25 30"
			}
			"02"
			{
				"var_type"					"FIELD_INTEGER"
				"crit_bonus"				"200 200 200 200 200 300"
			}
		}
    }

    "opal_aura"
    {
	    "BaseClass" "ability_datadriven"
        "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_AOE | DOTA_ABILITY_BEHAVIOR_PASSIVE"

        "MaxLevel"  "6"

        "Modifiers"
        {
            "modifier_opal_aura"
            {
                "IsHidden"  "0"
                "Passive"   "1"

                "Aura"  "modifier_opal_aura_buff"
                "Aura_Radius"   "%aura_radius"
                "Aura_Teams"    "DOTA_UNIT_TARGET_TEAM_BOTH"
                "Aura_Types"    "DOTA_UNIT_TARGET_BUILDING"
                "Aura_ApplyToCaster"    "1"
            }
            "modifier_opal_aura_buff"
            {
                "Properties"
                {
                    "MODIFIER_PROPERTY_ATTACKSPEED_BONUS_CONSTANT"  "%as_bonus"
                }
            }
        }
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"					"FIELD_INTEGER"
				"as_bonus"				    "20 30 40 50 60 100"
			}
			"02"
			{
				"var_type"					"FIELD_INTEGER"
				"aura_radius"				"500 600 700 800 1000 2000"
			}
		}
    }

    "sapphire_slow"
    {
        "BaseClass" "ability_datadriven"
        "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_PASSIVE"
        "MaxLevel" "6"

        "Modifiers"
        {
            "modifier_sapphire_slow_debuff"
            {
                "Passive"   "1"
                "IsHidden"    "0"
                "IsDebuff"  "1"
                "Duration"  "%duration"

                "Properties"
                {
                    "MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE" "%slow_amount"
                }
            }
        }

		"AbilitySpecial"
		{
			"01"
			{
				"var_type"					"FIELD_INTEGER"
				"slow_amount"				"-20 -20 -20 -20 -30 -50"
			}
			"02"
			{
				"var_type"					"FIELD_FLOAT"
				"duration"					"5.0 5.0 5.0 6.0 7.0 100.0"
			}
		}
    }

    "emerald_slow"
    {
        "BaseClass" "ability_datadriven"
        "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_PASSIVE"
        "MaxLevel" "6"

        "Modifiers"
        {
            "modifier_emerald_slow_debuff"
            {
                "Passive"   "1"
                "IsHidden"    "0"
                "IsDebuff"  "1"
                "Duration"  "%duration"
                "ThinkInterval" "1"

                "OnIntervalThink"
                {
                    "Damage"
                    {
                        "Target"    "CASTER"
                        "Type"      "DAMAGE_TYPE_MAGICAL"
                        "Damage"    "%damage"
                    }
                }

                "Properties"
                {
                    "MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE" "%slow_amount"
                }
            }
        }

		"AbilitySpecial"
		{
			"01"
			{
				"var_type"					"FIELD_INTEGER"
				"slow_amount"				"-15 -20 -25 -30 -50 -50"
			}
			"02"
			{
				"var_type"					"FIELD_INTEGER"
				"damage"				    "2 3 5 8 16 50"
			}
			"03"
			{
				"var_type"					"FIELD_FLOAT"
				"duration"					"3.0 4.0 5.0 6.0 8.0 100.0"
			}
		}
    }

    "gem_script_proxy"
    {
        "BaseClass" "ability_datadriven"
        "AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
        "Maxlevel" "1"
        "ItemBaseLevel" "1"

        "Modifiers"
        {
            "modifier_script_proxy"
            {
                "Passive"   "1"
                "IsHidden"    "1"

                "OnCreated"
                {
                    "RunScript"
                    {
                        "Target"    "TARGET"
                        "ScriptFile"    "gems/base.lua"
                        "Function"  "OnCreated"
                    }
                }

                "OnAttackLanded"
                {
                    "RunScript"
                    {
                        "Target"    "TARGET"
                        "ScriptFile"    "gems/base.lua"
                        "Function"  "OnAttackLanded"
                        "damage"    "%attack_damage"
                    }
                }

                "OnAttackStart"
                {
                    "RunScript"
                    {
                        "Target"    "TARGET"
                        "ScriptFile"    "gems/base.lua"
                        "Function"  "OnAttackStart"
                        "Damage"    "%attack_damage"
                    }
                }
            }
        }
    }

    "malachite_multishot"
    {
        "BaseClass" "ability_datadriven"
        "AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
        "Maxlevel" "1"
        "ItemBaseLevel" "1"

        "Modifiers"
        {
            "modifier_malachite_multishot"
            {
                "Passive"   "1"
                "IsHidden"    "0"
                "OnAttackStart"
                {
                    "CreateBonusAttack"
                    {
                        "Target"
                        {
                            "Center"    "TARGET"
                            "Radius"    "1000"
                            "Teams"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
                            "Types"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
                            "MaxTargets"    "10"
                        }
                    }
                }
            }
        }
    }

	// ========================================================================
	// Build related
	// ========================================================================


    "gem_combine_special"
    {
        "BaseClass" "ability_datadriven"
        "AbilityTextureName"    "gem_combine_special"

        "Maxlevel" "1"
        "ItemBaseLevel" "1"
        "AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE | DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
        "AbilityCastPoint"				"0.0"
        "AbilityCooldown"				"10"
        "AbilityManaCost"				"0"

        "OnSpellStart"
        {
            "RunScript"
            {
                                "Target"    "CASTER"
                                "ScriptFile"    "scripts/vscripts/abilities.lua"
                                "Function"  "GemCombineSpecial"
            }
        }

        "Modifiers"
        {
            "modifier_combine_special"
            {
                "Passive"   "1"
                "IsHidden"    "1"

                "OnCreated"
                {
                    "AttachEffect"
                    {
                        "Target" "CASTER"
                        "EffectName" "particles\econ\generic\generic_buff_1\generic_buff_1.vpcf"
                        "EffectAttachType" "follow_overhead"
                        "EffectLifeDurationScale" "1"
                        "EffectColorA" "255 255 255"
                    }
                }
            }
        }
    }

    "gem_combine"
    {
        "BaseClass" "ability_datadriven"
        "AbilityTextureName"    "gem_combine"

        "Maxlevel" "1"
        "ItemBaseLevel" "1"
        "AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE | DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
        "AbilityCastPoint"				"0.0"
        "AbilityCooldown"				"10"
        "AbilityManaCost"				"0"

        "OnSpellStart"
        {
            "RunScript"
            {
                                "Target"    "CASTER"
                                "ScriptFile"    "scripts/vscripts/abilities.lua"
                                "Function"  "GemCombine"
            }
        }
    }

	"gem_destroy"
    {
        "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
        "AbilityTextureName"    "gem_destroy"

        "BaseClass" "ability_datadriven"
        "Maxlevel" "1"
        "ItemBaseLevel" "1"
        "OnSpellStart"
        {
            "RemoveUnit"
            {
                "Target" "CASTER"
            }
        }
    }

    "gem_keep"
    {
            "BaseClass" "ability_datadriven"
            "Maxlevel" "1"
            "ItemBaseLevel" "1"
        "AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE | DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
        "AbilityCastPoint"				"0.0"
        "AbilityCooldown"				"1"
        "AbilityManaCost"				"0"

        "AbilityTextureName"    "gem_keep"

        "OnSpellStart"
        {
            "RunScript"
            {
                                "Target"    "CASTER"
                                "ScriptFile"    "scripts/vscripts/abilities.lua"
                                "Function"  "GemKeep"
            }
        }

        "Modifiers"
        {
            "modifier_keep"
            {
                "Passive"   "1"
                "IsHidden"    "1"

                "OnCreated"
                {
                    "AttachEffect"
                    {
                        "Target" "CASTER"
                        "EffectName" "particles\econ\generic\generic_buff_1\generic_buff_1.vpcf"
                        "EffectAttachType" "follow_overhead"
                        "EffectLifeDurationScale" "1"
                        "EffectColorA" "255 0 0"
                    }
                }
            }
        }
    }

        "gem_delete"
        {
            "BaseClass" "ability_datadriven"
            "Maxlevel" "1"
            "AbilityTextureName"    "gem_destroy"

            "AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
            "AbilityCastPoint"				"0.0"
            "AbilityCooldown"				"1"
            "AbilityManaCost"				"0"

            "OnSpellStart"
            {
                "RunScript"
                {
                                    "Target"    "CASTER"
                                    "ScriptFile"    "scripts/vscripts/abilities.lua"
                                    "Function"  "GemDelete"
                }
            }
        }

        "super_speed"
        {
            "BaseClass"	"ability_datadriven"
            "AbilityName"	"super_speed"
            "AbilityBehavior"	"DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_HIDDEN"

                        "OnCreated"
                        {
                            "ApplyModifier"
                            {
                                "Target"	"CASTER"
                                "ModifierName"	"modifier_super_speed"
                            }

                            "ApplyModifier"
                            {
                                "Target"    "CASTER"
                                "ModifierName"  "modifier_bloodseeker_thirst_speed"
                            }
                        }

                        "Modifiers"
                        {
                            "modifier_super_speed"
                            {
                                "Passive" "1"
                                "States"
                                {
                                    "MODIFIER_STATE_NO_HEALTH_BAR"      "MODIFIER_STATE_VALUE_ENABLED"
                                    "MODIFIER_STATE_UNSELECTABLE"      "MODIFIER_STATE_VALUE_ENABLED"
                                    "MODIFIER_STATE_MAGIC_IMMUNE"      "MODIFIER_STATE_VALUE_ENABLED"
                                    "MODIFIER_STATE_ATTACK_IMMUNE"      "MODIFIER_STATE_VALUE_ENABLED"
                                }

                                "Properties"
                                {
                                    "MODIFIER_PROPERTY_MOVESPEED_ABSOLUTE"  "1000"
                                }
                            }
                        }
        }

        "spawner_basic"
        {
            "BaseClass"	"ability_datadriven"
            "AbilityName"	"spawner_basic"
            "AbilityBehavior"	"DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_HIDDEN"

            //"AbilityTextureName"	"jakiro_liquid_fire"

            "OnCreated"
            {
                "ApplyModifier"
                {
                    "Target"	"CASTER"
                    "ModifierName"	"modifier_custom_spawner"
                }
            }

            "Modifiers"
            {
                "modifier_custom_spawner"
                {
                    "Passive" "1"
                    "States"
                    {
                        "MODIFIER_STATE_NO_HEALTH_BAR"      "MODIFIER_STATE_VALUE_ENABLED"
                        "MODIFIER_STATE_INVULNERABLE"       "MODIFIER_STATE_VALUE_ENABLED"
                        //"MODIFIER_STATE_INVISIBLE"          "MODIFIER_STATE_VALUE_ENABLED"
                        "MODIFIER_STATE_NO_UNIT_COLLISION"  "MODIFIER_STATE_VALUE_ENABLED"
                        "MODIFIER_STATE_UNSELECTABLE"      "MODIFIER_STATE_VALUE_ENABLED"
                        "MODIFIER_STATE_MAGIC_IMMUNE"      "MODIFIER_STATE_VALUE_ENABLED"
                        "MODIFIER_STATE_ATTACK_IMMUNE"      "MODIFIER_STATE_VALUE_ENABLED"
                        "MODIFIER_STATE_OUT_OF_GAME"      "MODIFIER_STATE_VALUE_ENABLED"
                    }
                }
            }
        }

        "tower_invulnerability"
        {
            "BaseClass"	"ability_datadriven"
            "AbilityName"	"tower_invulnerability"
            "AbilityBehavior"	"DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_HIDDEN"

            //"AbilityTextureName"	"jakiro_liquid_fire"


            "Modifiers"
            {
            	"modifier_custom_invulnerability"
            	{
            		"Passive" "1"
            		"IsHidden"    "1"

            		"States"
            		{
            		    "MODIFIER_STATE_NO_HEALTH_BAR"      "MODIFIER_STATE_VALUE_ENABLED"
            		    //"MODIFIER_STATE_INVULNERABLE"       "MODIFIER_STATE_VALUE_ENABLED"
            		    //"MODIFIER_STATE_NO_UNIT_COLLISION"  "MODIFIER_STATE_VALUE_ENABLED"
            		    //"MODIFIER_STATE_UNSELECTABLE"      "MODIFIER_STATE_VALUE_ENABLED"
            		}
            	}
            }
        }

	//=================================================================================================================
	// Templar Assassin: Refraction Holdout
	//=================================================================================================================
	"templar_assassin_refraction_holdout"
	{
		// General
		//-------------------------------------------------------------------------------------------------------------
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
		"AbilityUnitDamageType"			"DAMAGE_TYPE_PHYSICAL"	

		// Casting
		//-------------------------------------------------------------------------------------------------------------
		"AbilityCastPoint"				"0.0 0.0 0.0 0.0"

		// Time		
		//-------------------------------------------------------------------------------------------------------------
		"AbilityCooldown"				"17.0 17.0 17.0 17.0"

		// Cost
		//-------------------------------------------------------------------------------------------------------------
		"AbilityManaCost"				"100"
		
		// Special
		//-------------------------------------------------------------------------------------------------------------
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"					"FIELD_INTEGER"
				"damage_absorb"				"200 300 400 500"
			}
			"02"
			{
				"var_type"					"FIELD_INTEGER"
				"bonus_damage"				"20 40 60 80"
			}
			"04"
			{
				"var_type"					"FIELD_FLOAT"
				"duration"					"17.0 17.0 17.0 17.0"
			}
		}
	}
}
